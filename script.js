const readings = {
    'Ø­ÙØµ': { 
      text: [
        "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", 
        "Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù", 
        "Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", 
        "Ù…ÙÙ°Ù„ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ø¯Ù‘ÙÙŠÙ†Ù", 
        "Ø¥ÙÙŠÙ‘ÙØ§ÙƒÙ Ù†ÙØ¹Û¡Ø¨ÙØ¯Ù ÙˆÙØ¥ÙÙŠÙ‘ÙØ§ÙƒÙ Ù†ÙØ³Û¡ØªÙØ¹ÙÙŠÙ†Ù", 
        "Ù±Ù‡Û¡Ø¯ÙÙ†ÙØ§ Ù±Ù„ØµÙ‘ÙØ±ÙÙ°Ø·Ù Ù±Ù„Û¡Ù…ÙØ³Û¡ØªÙÙ‚ÙÙŠÙ…Ù", 
        "ØµÙØ±ÙÙ°Ø·Ù Ù±Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø£ÙÙ†Û¡Ø¹ÙÙ…Û¡ØªÙ Ø¹ÙÙ„ÙÙŠÛ¡Ù‡ÙÙ…Ù’ ØºÙÙŠÛ¡Ø±Ù Ù±Ù„Û¡Ù…ÙØºÛ¡Ø¶ÙÙˆØ¨Ù Ø¹ÙÙ„ÙÙŠÛ¡Ù‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ Ù±Ù„Ø¶Ù‘ÙØ§Ù“Ù„Ù‘ÙÙŠÙ†Ù"
      ], 
      audio: '/audio/Ø­ÙØµ.mp3' 
    },
    'Ø´Ø¹Ø¨Ø©': { 
      text: [
        "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù(1)", 
        "Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù", 
        "Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", 
        "Ù…ÙÙ°Ù„ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ø¯Ù‘ÙÙŠÙ†Ù", 
        "Ø¥ÙÙŠÙ‘ÙØ§ÙƒÙ Ù†ÙØ¹Û¡Ø¨ÙØ¯Ù ÙˆÙØ¥ÙÙŠÙ‘ÙØ§ÙƒÙ Ù†ÙØ³Û¡ØªÙØ¹ÙÙŠÙ†Ù", 
        "Ù±Ù‡Û¡Ø¯ÙÙ†ÙØ§ Ù±Ù„ØµÙ‘ÙØ±ÙÙ°Ø·Ù Ù±Ù„Û¡Ù…ÙØ³Û¡ØªÙÙ‚ÙÙŠÙ…Ù", 
        "ØµÙØ±ÙÙ°Ø·Ù Ù±Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø£ÙÙ†Û¡Ø¹ÙÙ…Û¡ØªÙ Ø¹ÙÙ„ÙÙŠÛ¡Ù‡ÙÙ…Ù’ ØºÙÙŠÛ¡Ø±Ù Ù±Ù„Û¡Ù…ÙØºÛ¡Ø¶ÙÙˆØ¨Ù Ø¹ÙÙ„ÙÙŠÛ¡Ù‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ Ù±Ù„Ø¶Ù‘ÙØ§Ù“Ù„Ù‘ÙÙŠÙ†Ù"
      ], 
      audio: '/audio/Ø´Ø¹Ø¨Ø©.mp3' 
    },
    'ÙˆØ±Ø´': { 
      text: [
        "(1)",
        "(2)",
        "(3)",
        "(4)",
        "(5)",
        "(6)",
        "(7)"
      ], 
      audio: 'audio/ÙˆØ±Ø´.mp3' 
    },
    'Ù‚Ø§Ù„ÙˆÙ†': { 
      text: [
        "(1)",
        "(2)",
        "(3)",
        "(4)",
        "(5)",
        "(6)",
        "(7)"
      ], 
      audio: 'audio/qalun.mp3' 
    }
  };

  // Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
  let selectedReadings = new Set();
  
  function toggleReading(reading, element) {
    element.classList.toggle('selected');
    if (selectedReadings.has(reading)) {
      selectedReadings.delete(reading);
    } else {
      selectedReadings.add(reading);
    }
    filterAyat(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
  }
  
  function filterAyat() {
    const start = parseInt(document.getElementById('start-ayah').value) || 1;
    const end = parseInt(document.getElementById('end-ayah').value) || 7;
    
    if (start < 1 || end > 7 || start > end) {
      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¯Ù‰ ØµØ­ÙŠØ­ Ù„Ù„Ø¢ÙŠØ§Øª (Ù…Ù† 1 Ø¥Ù„Ù‰ 7)');
      return;
    }
    
    const container = document.getElementById('reading-container');
    container.innerHTML = '';
    
    selectedReadings.forEach(reading => {
      const readingData = readings[reading];
      const filteredText = readingData.text.slice(start - 1, end).join('<br>');
      const div = document.createElement('div');
      div.classList.add('reading-card');
      div.innerHTML = `
        <h3>${reading}</h3>
        <p>${filteredText}</p>
        <audio controls src="${readingData.audio}"></audio>
      `;
      container.appendChild(div);
    });
  }
  
  // Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ… (Light/Dark)
  document.addEventListener("DOMContentLoaded", function () {
    const themeToggleBtn = document.getElementById("theme-toggle");
    const themeIcon = document.getElementById("theme-icon");

    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute("data-theme") || "light";
      const newTheme = currentTheme === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
      updateThemeIcon(newTheme);
    }

    function updateThemeIcon(theme) {
      themeIcon.textContent = theme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
    }

    function setTheme() {
      const savedTheme = localStorage.getItem("theme") || "light";
      document.documentElement.setAttribute("data-theme", savedTheme);
      updateThemeIcon(savedTheme);
    }

    setTheme();
    themeToggleBtn.addEventListener("click", toggleTheme);
  });